---
layout: post
title: android 判斷是否有網路
date: '2010-06-04T23:08:00.000+08:00'
author: Ken Yang
tags:
- android
- network
modified_time: '2010-11-06T16:54:30.899+08:00'
blogger_id: tag:blogger.com,1999:blog-866973865356001297.post-3365102245407697432
blogger_orig_url: http://blog.kenyang.net/2010/06/android.html
---

很多android app都和網路脫不了關係!<br /><br />但是也很多設計不良的app，本身是需要網路連線，但他卻沒有做判斷。<br /><br />這是app就會出現error!<br /><br />下面是判斷有無網路的code...<br /><br />但是要先加入一個permission...如下!<br /><br /><br /><br /><pre class="brush: xml">&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"&gt;&lt;/uses-permission&gt;</pre><br /><br /><br />這邊就是判斷的code了<br /><br /><br /><pre class="brush: java">ConnectivityManager conManager = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);//先取得此service<br /><br />NetworkInfo networInfo = conManager.getActiveNetworkInfo();       //在取得相關資訊<br /><br />if (networInfo == null || !networInfo.isAvailable()){ //判斷是否有網路<br /><br /> new AlertDialog.Builder(main.this)<br /> .setMessage("沒")<br /> .show();<br /><br />}else{<br /><br /> new AlertDialog.Builder(main.this)<br /> .setMessage("有")<br /> .show();<br /><br />}</pre><br /><br /><br /><br />