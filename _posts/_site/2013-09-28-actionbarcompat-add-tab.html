<a href="http://blog.kenyang.net/2013/09/actionbarcompat-basic.html">上一篇ActionBarCompat 【Basic】</a>教導大家怎麼使用Google提供的ActionBarCompat lib以後，<br />這篇要延續上篇實作的actionbar，來加入tabs！<br /><br />最早在android要使用tab的layout，<br />必須使用tabhost這個object！<br />但現在被deprecated了！<br />後來推薦使用Fragment去控制tabwidget ui object.<br />但這篇是要教大家怎麼直接用actionbar加入tabs，<br />相較前面的兩種方法，用actionbar比較簡單！<br /><br /><br /><span style="color: #e06666; font-size: large;">1. 首先請將你的class implement TabListener 這個interface</span><br /><br /><pre class="brush: java">public class MainActivity extends ActionBarActivity implements TabListener {<br />    ....<br />}<br /></pre><br /><br /><span style="color: #e06666; font-size: large;">2. 加入應有的method</span><br /><br />因為你前一步驟implement了一個interface，<br />那麼在你的Class之中，也應該要有該interface底下的method，<br />所以你的class一開始應該會紅紅的一條，代表error，<br />那麼你只要將滑鼠移至該class名稱上，eclipse就會有選項幫你直接加入該有的method，<br />或者你也可以自己直接加入，如下<br /><br /><pre class="brush: java">@Override<br /> public void onTabReselected(Tab arg0, FragmentTransaction arg1) {<br />  // TODO Auto-generated method stub<br />  <br /> }<br /><br /> @Override<br /> public void onTabSelected(Tab arg0, FragmentTransaction arg1) {<br />  // TODO Auto-generated method stub<br />  <br /> }<br /><br /> @Override<br /> public void onTabUnselected(Tab arg0, FragmentTransaction arg1) {<br />  // TODO Auto-generated method stub<br />  <br /> }<br /></pre><br /><br /><span style="color: #e06666; font-size: large;">3. 加入tab</span><br /><br />這邊是利用ActionBar去加入tab，<br />所以我們再加入之前應該先取得actiobar這個object，<br /><br /><pre class="brush: java">@Override<br /> protected void onCreate(Bundle savedInstanceState) {<br />  super.onCreate(savedInstanceState);<br />  setContentView(R.layout.activity_main);<br />  <br />  final ActionBar actionbar = getSupportActionBar();<br />  <br /> }<br /></pre><br />接著設定navigation mode，<br />這裡分成三種<br /><br /><ol><li><span class="s1">ActionBar</span><span class="s2">.</span><span class="s1">NAVIGATION_MODE_LIST &nbsp; &nbsp; （actionbar左上角會有spinner）</span></li><li><span class="s1">ActionBar</span><span class="s2">.</span>NAVIGATION_MODE_TABS &nbsp; &nbsp;（就是tabs）</li><li><span class="s1">ActionBar</span><span class="s2">.</span><span class="s1">NAVIGATION_MODE_STANDARD &nbsp; &nbsp;（什麼都不會有，只剩actionbar）</span></li></ol><br />所以理論上我們要設成第二種！<br /><br /><pre class="brush: java">@Override<br /> protected void onCreate(Bundle savedInstanceState) {<br />  super.onCreate(savedInstanceState);<br />  setContentView(R.layout.activity_main);<br />  <br />  final ActionBar actionbar = getSupportActionBar();<br />  <br />  actionbar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);<br />  <br /> }<br /></pre><br />最後一步就是加入tab了！<br /><br /><pre class="brush: java">@Override<br /> protected void onCreate(Bundle savedInstanceState) {<br />  super.onCreate(savedInstanceState);<br />  setContentView(R.layout.activity_main);<br />  <br />  final ActionBar actionbar = getSupportActionBar();<br />  <br />  actionbar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);<br />  <br />  // add tab<br />  actionbar.addTab(actionbar.newTab().setText(R.string.tab1).setTabListener(this));<br />  actionbar.addTab(actionbar.newTab().setText(R.string.tab2).setTabListener(this));<br />  <br /> }<br /></pre><br /><br /><br />接著大家就可以deploy上去看看了！<br />應該就可以看到2個tab出現！<br />如下圖<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-rqHC2KsSH-s/UkaCTVBdQhI/AAAAAAAAFBM/mJ-vQUPR8qk/s1600/249261.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://3.bp.blogspot.com/-rqHC2KsSH-s/UkaCTVBdQhI/AAAAAAAAFBM/mJ-vQUPR8qk/s400/249261.jpg" width="225" /></a></div><br /><br />這時候大家可能會覺得很奇怪，<br />不管點tab1還是tab2，<br />怎麼內容都一樣？<br /><br />原因是因為你要在先前implement的method（onTabSelected）中，<br />透過FragmentTransaction把Fragment加進來！<br />好！這時候大家可能也會好奇一件事，我的Class明明是 extends ActionBarActivity，<br />怎麼可能在這個class之中把Fragment加進來？不是應該要透過FragmentActivity嗎？<br />恩，其實如果你們在往下層看，會發現ActionBarActivity這個class也是extends FragmentActivity！<br />所以自然而然可以在ActionBarActivity中把一個Fragment加進來！<br /><br /><span style="color: #e06666; font-size: x-large;">但是！！！！</span>在這裡我不會教你用這種方式！！！<br />為什麼？<br />其實在Google Standard之中，希望我們有tabs時，理應上要支援swipe to change tab！<br />那麼要怎麼做到呢？<br />就是靠ViewPager！<br />在<a href="http://blog.kenyang.net/2013/10/actionbarcompat-swipe-to-change-tab.html">下一篇ActionBarCompat 【Swipe to change tab】</a>中，會教大家怎麼用ViewPager去把Fragment加進來以及可以swipe！<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />