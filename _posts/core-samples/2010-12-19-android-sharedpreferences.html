---
layout: post
title: Android SharedPreferences
date: '2010-12-19T05:39:00.000+08:00'
author: Ken Yang
tags:
- preference
- android
modified_time: '2010-12-19T05:39:52.483+08:00'
blogger_id: tag:blogger.com,1999:blog-866973865356001297.post-2109987089957619817
blogger_orig_url: http://blog.kenyang.net/2010/12/android-sharedpreferences.html
---

如果想要做到儲存資訊，<br /><br />且又是少量的，<br /><br />如果用到sqllite又會太過於麻煩(且也會較慢)<br /><br />這裡就可以用到SharedPreferences，<br /><br />假設我們要做個登入介面<br /><br />有個Email的欄位，<br /><br />且使用者可以勾選是否要記憶住帳號及密碼，<br /><br />我們就可以用SharedPreferences來做<br /><br />首先我們先來做<b><span class="Apple-style-span" style="color: red;">儲存</span></b>資訊的function<br /><br />如下:<br /><br /><pre class="brush: java">/*<br /> * 用來把mail存在preference裡面<br /> */<br /> private final void fnStorePrefs(){<br />  //先取得preference，且名稱為STR_PREF 的prefernce，STR_PREF 請自行宣告<br />  final SharedPreferences settings = getSharedPreferences(STR_PREF , 0);  <br />  <br />  //然後再取得editor，為了儲存資訊 <br />  final Editor editor = settings.edit();<br /><br />  //把資料存進去<br />  editor.putString(STR_PREF_EMAIL , edEmail.getText().toString());<br />     <br />  //然後一定要commit，才會存進去<br />   editor.commit();<br /> }<br /> <br /><br /></pre><br /><br />然後再做<b style="color: red;">取得</b>資訊的function<br /><br /><br /><pre class="brush: java">/*<br /> * 用來把mail從preference抓回來<br /> */<br /> private final void fnRestorePrefs(){<br />  //先取得preference，且名稱為STR_PREF 的prefernce，STR_PREF 請自行宣告<br />  final SharedPreferences settings = getSharedPreferences(STR_PREF , 0);<br /><br />  //然後直接取得資料<br />  final String strEmail            = settings.getString(STR_PREF_EMAIL ,"");<br /><br />  //然後再放進去EditText裡面去<br />  edEmail.setText(strEmail);<br /> }<br /></pre><br /><br /><br /><br /><br />基本上就這二種基本的運用，一個儲存的function、一個取得的function<br /><br />就看什麼時候要<b>存</b>，什麼時候要<b>取</b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><b><br /></b><br /><br /><br />